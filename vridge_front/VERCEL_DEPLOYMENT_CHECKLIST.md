# Vercel 배포 체크리스트

## 배포 전 필수 확인 사항

### 1. 코드 검증
- [ ] **빌드 테스트 실행**
  ```bash
  npm run build
  ```
  
- [ ] **타입 체크**
  ```bash
  npm run type-check
  ```
  
- [ ] **린트 검사**
  ```bash
  npm run lint
  ```

- [ ] **Vercel 빌드 시뮬레이션**
  ```bash
  npm run vercel-build
  ```

### 2. 환경 변수 확인
- [ ] `.env.production` 파일의 모든 변수가 Vercel에 설정되어 있는지 확인
- [ ] 필수 환경 변수 체크
  ```bash
  npm run check-env
  ```

### 3. vercel.json 검증
- [ ] Node.js 런타임 버전 확인 (18.x 또는 20.x만 사용)
- [ ] 함수 설정 유효성 검증
  ```bash
  npm run validate-vercel-config
  ```

### 4. 의존성 관리
- [ ] package-lock.json이 최신 상태인지 확인
- [ ] 프로덕션 의존성과 개발 의존성이 올바르게 분리되어 있는지 확인
- [ ] 취약점 검사
  ```bash
  npm audit
  ```

### 5. Next.js 15 호환성
- [ ] 서버 컴포넌트와 클라이언트 컴포넌트가 올바르게 구분되어 있는지 확인
- [ ] 'use client' 지시어가 필요한 곳에 모두 있는지 확인
- [ ] 동적 임포트가 올바르게 설정되어 있는지 확인

### 6. 정적 자원
- [ ] public 폴더의 모든 자원이 올바른 경로로 참조되는지 확인
- [ ] 이미지 최적화 설정 확인
- [ ] 폰트 로딩 최적화 확인

### 7. API 라우트
- [ ] 모든 API 라우트가 올바른 응답을 반환하는지 확인
- [ ] CORS 설정 확인
- [ ] 에러 핸들링 확인

### 8. 빌드 출력 검증
- [ ] 빌드 크기가 적절한지 확인 (함수 크기 < 50MB)
- [ ] 경고 메시지가 없는지 확인
- [ ] 사용하지 않는 코드가 제거되었는지 확인

### 9. 보안 검사
- [ ] 민감한 정보가 코드에 하드코딩되어 있지 않은지 확인
- [ ] API 키가 환경 변수로 관리되는지 확인
- [ ] 클라이언트 사이드 코드에 서버 전용 코드가 포함되어 있지 않은지 확인

### 10. 최종 확인
- [ ] 로컬에서 프로덕션 빌드 실행 테스트
  ```bash
  npm run build && npm run start
  ```
- [ ] 모든 페이지가 정상적으로 로드되는지 확인
- [ ] 주요 기능이 작동하는지 확인

## 배포 명령어
```bash
# 자동 검증 후 배포
npm run deploy:safe

# 긴급 배포 (검증 스킵 - 주의!)
vercel --prod
```

## 배포 후 확인 사항
- [ ] 배포된 URL에서 사이트 접속 확인
- [ ] 주요 페이지 로딩 확인
- [ ] API 엔드포인트 응답 확인
- [ ] 에러 로그 모니터링
- [ ] 성능 메트릭 확인